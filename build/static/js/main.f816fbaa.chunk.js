(this["webpackJsonpfirebase-react-auth"]=this["webpackJsonpfirebase-react-auth"]||[]).push([[0],{60:function(e,t,a){},65:function(e,t,a){e.exports=a(91)},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(36),l=a.n(c),s=a(9),u=a(0),o=a.n(u),i=a(2),m=a(96),d=a(97),b=a(95),p=a(93),E=a(13),f=a(26),g=a(62),h=a(37),O=a(20),j=a(61),v={apiKey:"AIzaSyCziFf90wWHsT_xiYJ3bCRZI33Bk7_bbBo",authDomain:"pragmatic-project-8df8c.firebaseapp.com",databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_FIREBASE_API_KEY:"AIzaSyCziFf90wWHsT_xiYJ3bCRZI33Bk7_bbBo",REACT_APP_FIREBASE_APP_ID:"1:1000252901050:web:e3d6d068508f3e40c76483",REACT_APP_FIREBASE_AUTH_DOMAIN:"pragmatic-project-8df8c.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1000252901050",REACT_APP_FIREBASE_PROJECT_ID:"pragmatic-project-8df8c",REACT_APP_FIREBASE_STORAGE_BUCKET:"pragmatic-project-8df8c.appspot.com"}).REACT_APP_FIREBASE_DATABASE_URL,projectId:"pragmatic-project-8df8c",storageBucket:"pragmatic-project-8df8c.appspot.com",messagingSenderId:"1000252901050",appId:"1:1000252901050:web:e3d6d068508f3e40c76483"},w=Object(j.a)(v),S=Object(O.g)(w),y=a(18),I=a.n(y);function N(){var e=Object(E.n)(),t=Object(h.b)(),a=Object(n.useRef)(),c=Object(n.useRef)(),l=Object(n.useRef)(),u=Object(n.useRef)(),j=Object(n.useState)(""),v=Object(s.a)(j,2),w=v[0],N=v[1],_=Object(n.useState)(!1),x=Object(s.a)(_,2),A=x[0],B=x[1];function C(){return(C=Object(i.a)(o.a.mark((function n(r){var s,i,m;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),s=c.current.value,i=l.current.value,!(s.length<=3||s.length>20)){n.next=6;break}return I.a.error("The number of Name characters should be greater than 3 and less than 20"),n.abrupt("return");case 6:if(!(i.length<8)){n.next=9;break}return I.a.error("The max password length should be 8"),n.abrupt("return");case 9:return l.current.value!==u.current.value&&I.a.error("Passwords do not match"),B(!0),n.prev=11,N(""),n.next=15,Object(h.a)(t,a.current.value,l.current.value);case 15:return m=n.sent,n.next=18,Object(O.h)(Object(O.d)(S,"Users",m.user.uid),{name:c.current.value,email:a.current.value,wallet:1e3,userId:Math.floor(1e9+999999999*Math.random())});case 18:e("/"),I.a.success("Acount is created successfully"),n.next=26;break;case 22:n.prev=22,n.t0=n.catch(11),N("Failed to create an account"),I.a.error(n.t0.message);case 26:B(!1);case 27:case"end":return n.stop()}}),n,null,[[11,22]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"}},r.a.createElement(m.a,{className:"w-100",style:{maxWidth:"400px"}},r.a.createElement(m.a.Body,null,r.a.createElement("h2",{className:"text-center mb-4"},"Sign Up"),w&&r.a.createElement(d.a,{variant:"danger"},w),r.a.createElement(b.a,{onSubmit:function(e){return C.apply(this,arguments)}},r.a.createElement(b.a.Group,{id:"email"},r.a.createElement(b.a.Label,null,"Name"),r.a.createElement(b.a.Control,{type:"text",ref:c})),r.a.createElement(b.a.Group,{id:"email"},r.a.createElement(b.a.Label,null,"Email"),r.a.createElement(b.a.Control,{type:"email",ref:a,required:!0})),r.a.createElement(b.a.Group,{id:"password"},r.a.createElement(b.a.Label,null,"Password"),r.a.createElement(b.a.Control,{type:"password",ref:l,required:!0})),r.a.createElement(b.a.Group,{id:"password-confirm"},r.a.createElement(b.a.Label,null,"Password Confirmation"),r.a.createElement(b.a.Control,{type:"password",ref:u,required:!0})),A?r.a.createElement(p.a,{className:"w-100",type:"submit"},r.a.createElement("span",{class:"spinner-grow spinner-grow-sm",role:"status","aria-hidden":"true"})):r.a.createElement(p.a,{className:"w-100",type:"submit"},"Sign up"))),r.a.createElement("div",{className:"w-100 text-center mt-2"},"Already have an account? ",r.a.createElement(f.b,{to:"/"},"Log In"))),r.a.createElement(y.Toaster,null)))}function _(e){var t=e.AuthLogin,a=Object(h.b)(),c=Object(n.useRef)(),l=Object(n.useRef)(),u=Object(E.n)(),d=Object(n.useState)(!1),j=Object(s.a)(d,2),v=j[0],w=j[1];function N(){return(N=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),w(!0),Object(h.c)(a,c.current.value,l.current.value).then((function(e){var t=e.user;_(t.uid),I.a.success("Login successfully"),w(!1)})).catch((function(e){I.a.error(e.message),w(!1)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(){var e=Object(i.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(O.d)(S,"Users",a),Object(O.e)(n).then((function(e){localStorage.setItem("User",JSON.stringify(e.data())),localStorage.setItem("UserID",JSON.stringify(a)),t(),u("/home")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"}},r.a.createElement(m.a,{className:"w-100",style:{maxWidth:"400px"}},r.a.createElement(m.a.Body,null,r.a.createElement("h2",{className:"text-center mb-4"},"Log In"),r.a.createElement(b.a,{onSubmit:function(e){return N.apply(this,arguments)}},r.a.createElement(b.a.Group,{id:"email"},r.a.createElement(b.a.Label,null,"Email"),r.a.createElement(b.a.Control,{type:"email",ref:c})),r.a.createElement(b.a.Group,{id:"password"},r.a.createElement(b.a.Label,null,"Password"),r.a.createElement(b.a.Control,{type:"password",ref:l})),v?r.a.createElement(p.a,{className:"w-100",type:"submit"},r.a.createElement("span",{class:"spinner-grow spinner-grow-sm",role:"status","aria-hidden":"true"})):r.a.createElement(p.a,{className:"w-100",type:"submit"},"Log In"))),r.a.createElement("div",{className:"w-100 text-center mt-2"},"Need an account? ",r.a.createElement(f.b,{to:"/signup"},"Sign Up"))),r.a.createElement(y.Toaster,null)))}var x=a(94),A=(a(87),a(53));a(88);var B=function(e){var t=e.title,a=e.createdBy,n=function(){localStorage.removeItem("UserID"),localStorage.setItem("user",!1),localStorage.removeItem("User"),window.location.reload(!1)};return r.a.createElement(A.a,{expand:"lg",variant:"light",bg:"light"},r.a.createElement(g.a,null,r.a.createElement(A.a.Brand,{href:"#"},"bid"===!window.location.href.split("/")[3]&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Hi Danial")),r.a.createElement("h3",null,r.a.createElement("b",null,t))),"bid"===window.location.href.split("/")[3]&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"created_by"},"Created by: ",a),r.a.createElement("div",null,r.a.createElement(f.b,{to:"/home"},r.a.createElement("button",{type:"button",className:"btn btn-primary home_button"},"Home")),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return n()}},"Log out"))),"home"===window.location.href.split("/")[3]&&r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return n()}},"Log out"),"newAuction"===window.location.href.split("/")[3]&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(f.b,{to:"/home"},r.a.createElement("button",{type:"button",className:"btn btn-primary home_button"},"Home")),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return n()}},"Log out")))))};function C(){var e=JSON.parse(localStorage.getItem("User")),t=Object(n.useState)([]),a=Object(s.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)([]),m=Object(s.a)(u,2),d=m[0],b=m[1],p=Object(n.useState)(!0),E=Object(s.a)(p,2),h=E[0],j=E[1],v=Object(n.useState)([]),w=Object(s.a)(v,2),N=w[0],_=w[1],A=Object(n.useState)(),C=Object(s.a)(A,2),D=C[0],T=C[1],F=JSON.parse(localStorage.getItem("UserID")),R=[],P=[];Object(n.useEffect)((function(){(function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(O.f)(Object(O.b)(S,"Auction"));case 3:e.sent.forEach((function(e,t){R.push(e.data()),P.push(e.id)})),_(P),b(R),j(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("The error is",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()();var e=Object(O.d)(S,"Users",F);Object(O.e)(e).then((function(e){T(e.data())}))}),[]),Object(n.useEffect)((function(){d.map((function(e,t){!function(a,n){var r=a.getTime()-n.getTime(),c=Math.ceil(r/864e5);e.endDateforBiding=c,e.ItemFirebaseId=N[t]}(new Date(e.endDateforBiding),new Date)})),l(d.sort((function(e,t){return parseFloat(e.endDateforBiding)-parseFloat(t.endDateforBiding)})))}),[d]);return r.a.createElement(g.a,null,r.a.createElement("main",null,r.a.createElement(B,{title:"Current Auction"}),h?r.a.createElement("div",{class:"d-flex justify-content-center align-items-center"},r.a.createElement("div",{class:"spinner-grow d-flex ",role:"status"},r.a.createElement("span",{class:"sr-only"},"Loading..."))):r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,"Product")),r.a.createElement("td",null,r.a.createElement("b",null,"Seller")),r.a.createElement("td",null,r.a.createElement("b",null,"Top Bid")),r.a.createElement("td",null,r.a.createElement("b",null,"Days Remaining")),r.a.createElement("td",null,r.a.createElement("b",null,"Delete"))),c&&c.map((function(t,a){return r.a.createElement(r.a.Fragment,null,t.endDateforBiding<=0?null:r.a.createElement("tr",{key:a},r.a.createElement("td",null,r.a.createElement(f.b,{to:"/bid",state:{auctionItemData:t,ItemId:t.ItemFirebaseId},style:{textDecoration:"none"}},r.a.createElement("span",{className:"product"},t.productName))),r.a.createElement("td",null,t.sellerName),r.a.createElement("td",null,t.topBid),r.a.createElement("td",null,t.endDateforBiding),r.a.createElement("td",null,e.userId===t.sellerID?r.a.createElement("span",{className:"delete","data-toggle":"modal","data-target":"#exampleModal",onClick:function(){return function(e){var t=Object(O.d)(S,"Auction",e.ItemFirebaseId);Object(O.c)(t).then((function(){I.a.success("Item has deleted")})).catch((function(e){I.a.error("Server encounter an unexception condition")})),l(c.filter((function(t){return t.ItemFirebaseId!=e.ItemFirebaseId})))}(t)}},"Delete"):null)))})))),r.a.createElement("footer",{className:"lower_Home_Page"},r.a.createElement(f.b,{to:"/newAuction"},r.a.createElement("button",{type:"button",className:"btn btn-primary"},"New Auction")),r.a.createElement("p",null,"Your current wallet: ",r.a.createElement("span",{className:"wallet"},null===D||void 0===D?void 0:D.wallet,"$"))))),r.a.createElement(y.Toaster,null))}a(60);function D(){var e=JSON.parse(localStorage.getItem("User")),t=Object(n.useState)(),a=Object(s.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(),d=Object(s.a)(u,2),E=d[0],f=d[1],h=Object(n.useState)(),j=Object(s.a)(h,2),v=j[0],w=j[1],N=Object(n.useState)(),_=Object(s.a)(N,2),x=_[0],A=_[1],C=Object(n.useState)(!1),D=Object(s.a)(C,2),T=D[0],F=D[1],R=function(){var t=Object(i.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return F(!0),a.preventDefault(),t.prev=2,t.next=5,Object(O.a)(Object(O.b)(S,"Auction"),{productName:c,sellerID:e.userId,sellerName:e.name,topBid:E,endDateforBiding:x,topBidUser:e.name,topBidUserId:e.userId,Description:v,itemId:Math.floor(1e9+999999999*Math.random())});case 5:l(""),A(""),w(""),f(""),F(!1),I.a.success("Item launch successfully"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),I.a.error(t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null,r.a.createElement(B,{title:"New Auction"}),r.a.createElement(m.a,{className:"w-100",style:{maxWidth:"1200px"}},r.a.createElement(m.a.Body,null,r.a.createElement("h2",{className:"text-center mb-4"},"New Auction"),r.a.createElement(b.a,{onSubmit:R},r.a.createElement(b.a.Group,null,r.a.createElement(b.a.Label,{className:"label"},"Product Name:"),r.a.createElement(b.a.Control,{type:"text",required:!0,placeholder:"Cricket Bat",onChange:function(e){return l(e.target.value)},value:c})),r.a.createElement(b.a.Group,null,r.a.createElement(b.a.Label,{className:"label"},"Starting Bid:"),r.a.createElement(b.a.Control,{type:"number",placeholder:"500",onChange:function(e){return f(e.target.value)},required:!0,value:E})),r.a.createElement(b.a.Group,null,r.a.createElement(b.a.Label,{className:"label"},"Description:"),r.a.createElement(b.a.Control,{as:"textarea",rows:3,onChange:function(e){return w(e.target.value)},required:!0,value:v})),r.a.createElement(b.a.Group,{controlId:"duedate"},r.a.createElement(b.a.Label,{className:"label"},"Date:"),r.a.createElement(b.a.Control,{type:"date",name:"duedate",onChange:function(e){return A(e.target.value)},placeholder:"Due date",min:(new Date).toISOString().split("T")[0],required:!0,value:x})),r.a.createElement("center",null,T?r.a.createElement(p.a,{className:"w-50",type:"button",disabled:!0},r.a.createElement("span",{class:"spinner-grow spinner-grow-sm",role:"status","aria-hidden":"true"}),"Please wait..."):r.a.createElement(p.a,{className:"w-50",type:"submit"},"Create Auction"))))),r.a.createElement(y.Toaster,null)))}a(89);function T(){var e=Object(E.n)(),t=Object(E.k)(),a=t.state.auctionItemData,c=t.state.ItemId,l=Object(n.useState)(),u=Object(s.a)(l,2),d=u[0],b=u[1],p=Object(n.useState)(!1),f=Object(s.a)(p,2),h=f[0],j=f[1],v=Object(n.useState)(),w=Object(s.a)(v,2),N=w[0],_=w[1],x=JSON.parse(localStorage.getItem("UserID")),A=JSON.parse(localStorage.getItem("User"));Object(n.useEffect)((function(){var e=Object(O.d)(S,"Users",x);Object(O.e)(e).then((function(e){_(e.data())}))}),[]);var C=function(){var t=Object(i.a)(o.a.mark((function t(){var n,r,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j(!0),!(parseFloat(a.topBid)>=parseFloat(d))){t.next=5;break}return I.a.error("Your bid is less than top bid "),j(!1),t.abrupt("return");case 5:if(!(N.wallet<parseFloat(d))){t.next=9;break}return I.a.error("Your wallet balance is insufficient"),j(!1),t.abrupt("return");case 9:return t.prev=9,n=Object(O.d)(S,"Auction",c),t.next=13,Object(O.i)(n,{topBid:d,topBidUser:A.name});case 13:I.a.success("Your bid is now highest"),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(9),I.a.error("Server encounter an unexception condition");case 19:return r=N.wallet-parseFloat(d),t.prev=20,l=Object(O.d)(S,"Users",x),t.next=24,Object(O.i)(l,{wallet:r});case 24:j(!1),e("/homes"),setTimeout((function(){I.a.success("Your remaining balance is: ".concat(r))}),1e3),t.next=32;break;case 29:t.prev=29,t.t1=t.catch(20),I.a.error("Server encounter an unexception condition");case 32:case"end":return t.stop()}}),t,null,[[9,16],[20,29]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(g.a,null,r.a.createElement(B,{title:a.productName,createdBy:a.sellerName}),r.a.createElement(m.a,{className:"w-100",style:{maxWidth:"1200px"}},r.a.createElement(m.a.Body,null,r.a.createElement("h6",{className:"time_tag"},"Time Remaining: ",a.timeRemaining," Days"),r.a.createElement("p",null,a.Description),r.a.createElement("div",{className:"biding_information"},r.a.createElement("div",null,r.a.createElement("p",{className:"hieghest_bid"},"Current High Bid"),r.a.createElement("p",{className:"hieghest_bid"},a.topBid)),r.a.createElement("div",null,r.a.createElement("p",{className:"hieghest_bid"},"By:  ",a.topBidUser))),r.a.createElement("footer",{className:"Input_Box"},r.a.createElement("label",{className:"your_Bid"},"Your Bid:"),r.a.createElement("input",{type:"text",placeholder:"Enter your Bid",className:"input_for_new_bids",onChange:function(e){b(e.target.value)}}),h?r.a.createElement("button",{type:"button",className:"btn btn-sm btn-success bid_button"},r.a.createElement("span",{class:"spinner-grow spinner-grow-sm",role:"status","aria-hidden":"true"}),"Please wait"):r.a.createElement("button",{type:"button",className:"btn btn-sm btn-success bid_button",onClick:function(){return C()}},"Enter Bid")))),r.a.createElement(y.Toaster,null))}var F=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("user");e&&JSON.parse(e)?c(!0):c(!1)}),[]),Object(n.useEffect)((function(){localStorage.setItem("user",a)}),[a]),r.a.createElement("div",null,r.a.createElement(E.d,null,r.a.createElement(r.a.Fragment,null,!a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(E.b,{path:"/",element:r.a.createElement(_,{AuthLogin:function(){c(!0)}})}),r.a.createElement(E.b,{path:"/signup",element:r.a.createElement(N,null)})),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(E.b,{path:"/home",element:r.a.createElement(C,null)}),r.a.createElement(E.b,{path:"/newAuction",element:r.a.createElement(D,null)}),r.a.createElement(E.b,{path:"/bid",element:r.a.createElement(T,null)})),r.a.createElement(E.b,{path:"*",element:r.a.createElement(E.a,{to:a?"/home":"/"})}))))};a(90);l.a.render(r.a.createElement(f.a,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null))),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.f816fbaa.chunk.js.map