{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\Freelancing\\\\Test\\\\React-Firebase-Auth-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\Freelancing\\\\Test\\\\React-Firebase-Auth-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:\\\\Freelancing\\\\Test\\\\React-Firebase-Auth-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Container}from'react-bootstrap';import NavBar from'../NavBar';import{Form,Button,Card}from\"react-bootstrap\";import'./newAuctionStyle.css';import{doc,setDoc,collection,addDoc}from\"firebase/firestore\";import{db}from'../../firebase';export default function NewAuction(){var userDetail=JSON.parse(localStorage.getItem('User'));var _useState=useState(),_useState2=_slicedToArray(_useState,2),productName=_useState2[0],setProductName=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),startingBid=_useState4[0],setStartingBid=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),date=_useState8[0],setDate=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),alert=_useState10[0],setalert=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loader=_useState12[0],setLoader=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),errorAlert=_useState14[0],setErrorAlert=_useState14[1];var handleNewAuction=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var docRef;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoader(true);e.preventDefault();_context.prev=2;_context.next=5;return addDoc(collection(db,\"Auction\"),{productName:productName,sellerID:userDetail.userId,sellerName:userDetail.name,topBid:startingBid,endDateforBiding:date,topBidUser:userDetail.name,topBidUserId:userDetail.userId,Description:description,itemId:Math.floor(1000000000+Math.random()*999999999)});case 5:docRef=_context.sent;setProductName(\"\");setDate(\"\");setDescription(\"\");setStartingBid(\"\");setLoader(false);setalert(true);_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](2);setErrorAlert(true);case 17:case\"end\":return _context.stop();}}},_callee,null,[[2,14]]);}));return function handleNewAuction(_x){return _ref.apply(this,arguments);};}();var handleAlert=function handleAlert(){setInterval(function(){setalert(false);},3000);};var handleErrorAlert=function handleErrorAlert(){setInterval(function(){setErrorAlert(false);},3000);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(NavBar,{title:\"New Auction\"}),alert?/*#__PURE__*/React.createElement(\"div\",{class:\"alert alert-success\",role:\"alert\",onClick:handleAlert()},\"Item launch successfully !\"):null,errorAlert?/*#__PURE__*/React.createElement(\"div\",{class:\"alert alert-success\",role:\"alert\",onClick:handleErrorAlert()},\"Something went wrong !\"):null,/*#__PURE__*/React.createElement(Card,{className:\"w-100\",style:{maxWidth:\"1200px\"}},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(\"h2\",{className:\"text-center mb-4\"},\"New Auction\"),/*#__PURE__*/React.createElement(Form,{onSubmit:handleNewAuction},/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(Form.Label,{className:\"label\"},\"Product Name:\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",required:true,placeholder:\"Cricket Bat\",onChange:function onChange(e){return setProductName(e.target.value);},value:productName})),/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(Form.Label,{className:\"label\"},\"Starting Bid:\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"number\",placeholder:\"500$\",onChange:function onChange(e){return setStartingBid(e.target.value);},required:true,value:startingBid})),/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(Form.Label,{className:\"label\"},\"Description:\"),/*#__PURE__*/React.createElement(Form.Control,{as:\"textarea\",rows:3,onChange:function onChange(e){return setDescription(e.target.value);},required:true,value:description})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"duedate\"},/*#__PURE__*/React.createElement(Form.Label,{className:\"label\"},\"Date:\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"date\",name:\"duedate\",onChange:function onChange(e){return setDate(e.target.value);},placeholder:\"Due date\",min:new Date().toISOString().split('T')[0],required:true,value:date})),/*#__PURE__*/React.createElement(\"center\",null,loader?/*#__PURE__*/React.createElement(Button,{className:\"w-50\",type:\"button\",disabled:true},/*#__PURE__*/React.createElement(\"span\",{class:\"spinner-grow spinner-grow-sm\",role:\"status\",\"aria-hidden\":\"true\"}),\"Please wait...\"):/*#__PURE__*/React.createElement(Button,{className:\"w-50\",type:\"submit\"},\"Create Auction\")))))));}","map":{"version":3,"sources":["E:/Freelancing/Test/React-Firebase-Auth-master/src/components/newAuction/NewAuction.js"],"names":["React","useState","Container","NavBar","Form","Button","Card","doc","setDoc","collection","addDoc","db","NewAuction","userDetail","JSON","parse","localStorage","getItem","productName","setProductName","startingBid","setStartingBid","description","setDescription","date","setDate","alert","setalert","loader","setLoader","errorAlert","setErrorAlert","handleNewAuction","e","preventDefault","sellerID","userId","sellerName","name","topBid","endDateforBiding","topBidUser","topBidUserId","Description","itemId","Math","floor","random","docRef","handleAlert","setInterval","handleErrorAlert","maxWidth","target","value","Date","toISOString","split"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { Container } from 'react-bootstrap'\r\nimport NavBar from '../NavBar'\r\nimport { Form, Button, Card } from \"react-bootstrap\"\r\nimport './newAuctionStyle.css'\r\nimport { doc, setDoc, collection, addDoc } from \"firebase/firestore\";\r\nimport { db } from '../../firebase'\r\nexport default function NewAuction() {\r\n     const userDetail = JSON.parse(localStorage.getItem('User'))\r\n     const [productName, setProductName] = useState()\r\n     const [startingBid, setStartingBid] = useState()\r\n     const [description, setDescription] = useState()\r\n     const [date, setDate] = useState()\r\n     const [alert, setalert] = useState(false)\r\n     const [loader, setLoader] = useState(false)\r\n     const [errorAlert, setErrorAlert] = useState(false)\r\n     const handleNewAuction = async (e) => {\r\n          setLoader(true)\r\n          e.preventDefault()\r\n          try {\r\n               const docRef = await addDoc(collection(db, \"Auction\"), {\r\n                    productName: productName,\r\n                    sellerID: userDetail.userId,\r\n                    sellerName: userDetail.name,\r\n                    topBid: startingBid,\r\n                    endDateforBiding: date,\r\n                    topBidUser: userDetail.name,\r\n                    topBidUserId: userDetail.userId,\r\n                    Description: description,\r\n                    itemId: Math.floor(1000000000 + Math.random() * 999999999),\r\n               });\r\n               setProductName(\"\")\r\n               setDate(\"\")\r\n               setDescription(\"\")\r\n               setStartingBid(\"\")\r\n               setLoader(false)\r\n               setalert(true)\r\n          }\r\n          catch (e) {\r\n               setErrorAlert(true)\r\n          }\r\n\r\n\r\n     }\r\n\r\n     const handleAlert = () => {\r\n          setInterval(() => {\r\n               setalert(false)\r\n          }, 3000);\r\n     }\r\n     const handleErrorAlert = () => {\r\n          setInterval(() => {\r\n               setErrorAlert(false)\r\n          }, 3000);\r\n     }\r\n     return (\r\n          <>\r\n               <Container>\r\n                    <NavBar title=\"New Auction\" />\r\n                    {alert ?\r\n                         <div class=\"alert alert-success\" role=\"alert\" onClick={handleAlert()}>\r\n                              Item launch successfully !\r\n                         </div> \r\n                         :\r\n                         null\r\n                    }\r\n                     {errorAlert ?\r\n                         <div class=\"alert alert-success\" role=\"alert\" onClick={handleErrorAlert()}>\r\n                              Something went wrong !\r\n                         </div> \r\n                         :\r\n                         null\r\n                    }\r\n                    <Card className=\"w-100\" style={{ maxWidth: \"1200px\" }}>\r\n                         <Card.Body>\r\n                              <h2 className=\"text-center mb-4\">New Auction</h2>\r\n                              <Form onSubmit={handleNewAuction}>\r\n                                   <Form.Group>\r\n                                        <Form.Label className='label'>Product Name:</Form.Label>\r\n                                        <Form.Control type=\"text\" required placeholder='Cricket Bat' onChange={(e) => setProductName(e.target.value)} value={productName} />\r\n                                   </Form.Group>\r\n                                   <Form.Group >\r\n                                        <Form.Label className='label'>Starting Bid:</Form.Label>\r\n                                        <Form.Control type=\"number\" placeholder='500$' onChange={(e) => setStartingBid(e.target.value)} required value={startingBid} />\r\n                                   </Form.Group>\r\n                                   <Form.Group >\r\n                                        <Form.Label className='label'>Description:</Form.Label>\r\n                                        <Form.Control as=\"textarea\" rows={3} onChange={(e) => setDescription(e.target.value)} required value={description}/>\r\n                                   </Form.Group>\r\n                                   <Form.Group controlId=\"duedate\">\r\n                                        <Form.Label className='label'>Date:</Form.Label>\r\n                                        <Form.Control type=\"date\" name=\"duedate\" onChange={(e) => setDate(e.target.value)} placeholder=\"Due date\" min={new Date().toISOString().split('T')[0]} required value={date} />\r\n                                   </Form.Group>\r\n                                   <center>\r\n                                        {loader ?\r\n\r\n                                             <Button className=\"w-50\" type=\"button\" disabled>\r\n                                                  <span class=\"spinner-grow spinner-grow-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n                                                  Please wait...\r\n                                             </Button>\r\n                                             :\r\n                                             <Button className=\"w-50\" type=\"submit\">\r\n                                                  Create Auction\r\n                                             </Button>\r\n                                        }\r\n\r\n                                   </center>\r\n                              </Form>\r\n                         </Card.Body>\r\n                    </Card>\r\n               </Container>\r\n\r\n          </>\r\n\r\n     )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}